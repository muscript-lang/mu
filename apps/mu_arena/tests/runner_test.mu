@apps.mu_arena.tests.runner_test{E[main];T PolicyId=Baseline|Aggressive|Defensive;T Roll=Roll(i32,i32);F abs_i32:(i32)->i32=i(c(<,arg0,0),c(neg,arg0),arg0);F next_seed:(i32)->i32=c(%,c(+,c(*,c(abs_i32,arg0),1103),97),1000003);F roll100:(i32)->Roll=v(n:i32=c(next_seed,arg0),Roll(c(%,n,100),n));F one_score:(PolicyId,i32)->i32=v(r:Roll=c(roll100,arg1),m(r){Roll(v,next)=>m(arg0){Baseline=>i(c(<,v,60),2,1);Aggressive=>i(c(<,v,75),3,1);Defensive=>i(c(<,v,50),2,0);};});F batch_score:(PolicyId,i32,i32)->i32=i(c(<=,arg2,0),0,c(+,c(one_score,arg0,arg1),c(batch_score,arg0,c(+,arg1,1),c(-,arg2,1))));F main:()->i32={v(a:i32=c(batch_score,Baseline(),1,10),v(b:i32=c(batch_score,Baseline(),1,10),a(c(==,a,b))));v(g:i32=c(batch_score,Aggressive(),1,20),v(d:i32=c(batch_score,Defensive(),1,20),a(c(!=,g,d))));0};}
