@apps.signal_reactor.model{E[action_json,Arr,Bad,Bool,Buy,ECons,ENil,EnterLong,EnterShort,Error,ExitLong,ExitShort,Hold,HoldSig,Idle,Long,Null,Num,Obj,ParsedErr,ParsedOk,Sell,Short,Step,Str];T State=Idle|Long|Short;T Signal=Buy|Sell|HoldSig|Bad;T Action=Hold|EnterLong(i32)|ExitLong|EnterShort(i32)|ExitShort|Error(s);T Decision=Step(State,Action);T Events=ENil|ECons(Signal,i32,Events);T Parsed=ParsedOk(Signal,i32)|ParsedErr;T Json=Null|Bool(b)|Num(f64)|Str(s)|Arr(Json[])|Obj({s:Json});F action_json:(Action)->s=m(arg0){Hold=>"{\"a\":\"H\"}";EnterLong(_)=>"{\"a\":\"EL\"}";ExitLong=>"{\"a\":\"XL\"}";EnterShort(_)=>"{\"a\":\"ES\"}";ExitShort=>"{\"a\":\"XS\"}";Error(_)=>"{\"a\":\"ERR\"}";};}
